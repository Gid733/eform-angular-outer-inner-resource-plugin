<subheader-pn [title]="'Machines' | translate">
  <div class="p-3">
    <button
      class="btn btn-success"
      mdbTooltip="{{ 'Create Machine' | translate }}"
      (click)="showCreateMachineModal()">{{ 'New Machine' | translate }}
    </button>
  </div>
</subheader-pn>

<div class="container-fluid">
  <div class="row p-1 table-responsive no-gutters">
    <table class="table table-sm table-striped text-center z-depth-1">
      <thead>
      <tr>
          <th scope="col" class="table-header-sortable" id="idTableHeader"
              (click)="sortTable('id')">
            <div class="d-flex align-items-center justify-content-center">
              ID
              <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'id'">unfold_more</i>
              <i class="material-icons"
                 *ngIf="localPageSettings.sort == 'id' && !machinesRequestModel.isSortDsc">expand_less</i>
              <i class="material-icons"
                 *ngIf="localPageSettings.sort == 'id' && machinesRequestModel.isSortDsc">expand_more</i>
            </div>
          </th>
        <th scope="col" class="table-header-sortable" id="nameTableHeader"
            (click)="sortTable('id')">
          <div class="d-flex align-items-center justify-content-center">
            {{'Name' | translate}}
            <i class="material-icons text-black-50" *ngIf="localPageSettings.sort != 'name'">unfold_more</i>
            <i class="material-icons"
               *ngIf="localPageSettings.sort == 'name' && !machinesRequestModel.isSortDsc">expand_less</i>
            <i class="material-icons"
               *ngIf="localPageSettings.sort == 'name' && machinesRequestModel.isSortDsc">expand_more</i>
          </div>
        </th>

        <th scope="col">
          {{ 'Actions' | translate }}
        </th>
      </tr>
      </thead>
      <tbody id="tableBody">
      <tr *ngFor="let machine of machines">
        <td>
          {{machine.id}}
        </td>
        <td>
          {{machine.name}}
        </td>
        <td>
          <div class="d-flex flex-row justify-content-center">
            <button class="btn btn-accent text-black-50 btn-icon mb-2"
                    mdbTooltip="{{ 'Edit Machine' | translate }}"
                    (click)="showEditMachineModal(machine)">
              <i class="material-icons">
                edit
              </i>
            </button>
            <button class="btn btn-danger btn-icon mb-2 "
                    mdbTooltip="{{ 'Delete Machine' | translate }}"
                    (click)="showDeleteMachineModal(machine)">
              <i class="material-icons" >
                delete_forever
              </i>
            </button>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="row justify-content-between mr-2 ml-2">
    <div class="col-md-1">
      <page-size-pn
        [pageSize]="localPageSettings.pageSize"
        (onPageSizeChanged)="localPageSettings.pageSize = $event;
        updateLocalPageSettings()">
        <!--customersRequestModel.pageIndex = 1;-->
      </page-size-pn>
    </div>
    <div class="col-md-4 ml-auto d-flex justify-content-end p-2">
      <!--<pagination-pn *ngIf="customersModel.total > customersRequestModel.pageSize"-->
                     <!--[limit]="customersRequestModel.pageSize"-->
                     <!--[size]="customersModel.total"-->
                     <!--[offset]="customersRequestModel.offset"-->
                     <!--(onPageChanged)="changePage($event)"></pagination-pn>-->
    </div>
  </div>
</div>

<spinner-pn [spinnerVisibility]="spinnerStatus"></spinner-pn>

<app-machine-area-pn-machine-create #createMachineModal
                     (onMachineCreated)="getAllMachines()">
</app-machine-area-pn-machine-create>
<app-machine-area-pn-machine-edit #editMachineModal
                              (onMachineUpdated)="getAllMachines()"></app-machine-area-pn-machine-edit>
<app-machine-area-pn-machine-delete #deleteMachineModal
                                (onMachineDeleted)="getAllMachines()"></app-machine-area-pn-machine-delete>
